!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.JASSUB=t():e.JASSUB=t()}(self,(function(){return function(){"use strict";var __webpack_exports__={};function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}var Module=function(){return function(e){var t;e.ready=new Promise((function(e,r){t=e}));var r,n,a,o,i,s,u,c,l,f,d,p,h,v=null;function y(e){throw e}function g(){var e=p.buffer;o=new Int8Array(e),i=new Int16Array(e),s=new Int32Array(e),u=new Uint8Array(e),c=new Uint16Array(e),l=new Uint32Array(e),f=new Float32Array(e),d=new Float64Array(e)}r=function(e){"JASSUB: No usable fontconfig configuration file found, using fallback."===e?console.debug(e):console.log(e)},n=function(e){"Fontconfig error: Cannot load default config file: No such file: (null)"===e?console.debug(e):console.error(e)},a=g,g=function(){a(),self.wasmMemory=p,self.HEAPU8C=new Uint8ClampedArray(p.buffer),self.HEAPU8=new Uint8Array(p.buffer)},String.prototype.startsWith||(String.prototype.startsWith=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.substring(t,e.length)===e}),String.prototype.includes||(String.prototype.includes=function(e,t){return-1!==this.indexOf(e,t)}),Uint8Array.prototype.slice||(Uint8Array.prototype.slice=function(e,t){return new Uint8Array(this.subarray(e,t))}),p=new WebAssembly.Memory({initial:256,maximum:32768}),g();var m=("undefined"==typeof TextDecoder?"undefined":_typeof(TextDecoder))<"u"?new TextDecoder("utf8"):void 0;function b(e,t,r){for(var n=t+r,a=t;e[a]&&!(a>=n);)++a;if(a-t>16&&e.buffer&&m)return m.decode(e.subarray(t,a));for(var o="";t<a;){var i=e[t++];if(128&i){var s=63&e[t++];if(192!=(224&i)){var u=63&e[t++];if((i=224==(240&i)?(15&i)<<12|s<<6|u:(7&i)<<18|s<<12|u<<6|63&e[t++])<65536)o+=String.fromCharCode(i);else{var c=i-65536;o+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o}function C(e,t){return e?b(u,e,t):""}function w(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var T=void 0;function A(e){for(var t="",r=e;u[r];)t+=T[u[r++]];return t}var $={},P={},S={},j=48,_=57;function O(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return t>=j&&t<=_?"_"+e:e}function F(e,t){return _defineProperty({},e=O(e),(function(){return t.apply(this,arguments)}))[e]}function k(e,t){var r=F(t,(function(e){this.name=t,this.message=e;var r=new Error(e).stack;void 0!==r&&(this.stack=this.toString()+"\n"+r.replace(/^Error(:[^\n]*)?\n/,""))}));return r.prototype=Object.create(e.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},r}var M=void 0;function x(e){throw new M(e)}var E=void 0;function I(e){throw new E(e)}function W(e,t,r){function n(t){var n=r(t);n.length!==e.length&&I("Mismatched type converter count");for(var a=0;a<e.length;++a)R(e[a],n[a])}e.forEach((function(e){S[e]=t}));var a=new Array(t.length),o=[],i=0;t.forEach((function(e,t){P.hasOwnProperty(e)?a[t]=P[e]:(o.push(e),$.hasOwnProperty(e)||($[e]=[]),$[e].push((function(){a[t]=P[e],++i===o.length&&n(a)})))})),0===o.length&&n(a)}function R(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var n=t.name;if(e||x('type "'.concat(n,'" must have a positive integer typeid pointer')),P.hasOwnProperty(e)){if(r.ignoreDuplicateRegistrations)return;x("Cannot register type '".concat(n,"' twice"))}if(P[e]=t,delete S[e],$.hasOwnProperty(e)){var a=$[e];delete $[e],a.forEach((function(e){return e()}))}}function D(e){return{count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}}function B(e){x(e.$$.ptrType.registeredClass.name+" instance already deleted")}var U=!1;function L(e){}function H(e){e.count.value-=1,0===e.count.value&&function(e){e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)}(e)}function V(e,t,r){if(t===r)return e;if(void 0===r.baseClass)return null;var n=V(e,t,r.baseClass);return null===n?null:r.downcast(n)}var N={};var z=[];function J(){for(;z.length;){var e=z.pop();e.$$.deleteScheduled=!1,e.delete()}}var G=void 0;var q={};function K(e,t){return(!t.ptrType||!t.ptr)&&I("makeClassHandle requires ptr and ptrType"),!!t.smartPtrType!=!!t.smartPtr&&I("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Y(Object.create(e,{$$:{value:t}}))}function Y(e){return("undefined"==typeof FinalizationRegistry?"undefined":_typeof(FinalizationRegistry))>"u"?(Y=function(e){return e},e):(U=new FinalizationRegistry((function(e){H(e.$$)})),L=function(e){return U.unregister(e)},(Y=function(e){var t=e.$$;if(t.smartPtr){var r={$$:t};U.register(e,r,e)}return e})(e))}function X(){}function Z(e,t,r){if(void 0===e[t].overloadTable){var n=e[t];e[t]=function(){return e[t].overloadTable.hasOwnProperty(arguments.length)||x("Function '".concat(r,"' called with an invalid number of arguments (").concat(arguments.length,") - expects one of (").concat(e[t].overloadTable,")!")),e[t].overloadTable[arguments.length].apply(this,arguments)},e[t].overloadTable=[],e[t].overloadTable[n.argCount]=n}}function Q(e,t,r,n,a,o,i,s){this.name=e,this.constructor=t,this.instancePrototype=r,this.rawDestructor=n,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}function ee(e,t,r){for(;t!==r;)t.upcast||x("Expected null or instance of ".concat(r.name,", got an instance of ").concat(t.name)),e=t.upcast(e),t=t.baseClass;return e}function te(e,t){if(null===t)return this.isReference&&x("null is not a valid "+this.name),0;t.$$||x('Cannot pass "'.concat(me(t),'" as a ').concat(this.name)),t.$$.ptr||x("Cannot pass deleted object as a pointer of type "+this.name);var r=t.$$.ptrType.registeredClass;return ee(t.$$.ptr,r,this.registeredClass)}function re(e,t){var r;if(null===t)return this.isReference&&x("null is not a valid "+this.name),this.isSmartPointer?(r=this.rawConstructor(),null!==e&&e.push(this.rawDestructor,r),r):0;t.$$||x('Cannot pass "'.concat(me(t),'" as a ').concat(this.name)),t.$$.ptr||x("Cannot pass deleted object as a pointer of type ".concat(this.name)),!this.isConst&&t.$$.ptrType.isConst&&x("Cannot convert argument of type ".concat(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name," to parameter type ").concat(this.name));var n=t.$$.ptrType.registeredClass;if(r=ee(t.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(void 0===t.$$.smartPtr&&x("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:t.$$.smartPtrType===this?r=t.$$.smartPtr:x("Cannot convert argument of type ".concat(t.$$.smartPtrType?t.$$.smartPtrType.name:t.$$.ptrType.name," to parameter type ").concat(this.name));break;case 1:r=t.$$.smartPtr;break;case 2:if(t.$$.smartPtrType===this)r=t.$$.smartPtr;else{var a=t.clone();r=this.rawShare(r,ge.toHandle((function(){a.delete()}))),null!==e&&e.push(this.rawDestructor,r)}break;default:x("Unsupporting sharing policy")}return r}function ne(e,t){if(null===t)return this.isReference&&x("null is not a valid "+this.name),0;t.$$||x('Cannot pass "'.concat(me(t),'" as a ').concat(this.name)),t.$$.ptr||x("Cannot pass deleted object as a pointer of type ".concat(this.name)),t.$$.ptrType.isConst&&x("Cannot convert argument of type ".concat(t.$$.ptrType.name," to parameter type ").concat(this.name));var r=t.$$.ptrType.registeredClass;return ee(t.$$.ptr,r,this.registeredClass)}function ae(e){return this.fromWireType(s[e>>2])}function oe(e,t,r,n,a,o,i,s,u,c,l){this.name=e,this.registeredClass=t,this.isReference=r,this.isConst=n,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=u,this.rawShare=c,this.rawDestructor=l,a||void 0!==t.baseClass?this.toWireType=re:n?(this.toWireType=te,this.destructorFunction=null):(this.toWireType=ne,this.destructorFunction=null)}var ie=[];function se(e){var t=ie[e];return t||(e>=ie.length&&(ie.length=e+1),ie[e]=t=h.get(e)),t}function ue(e,t){var r=(e=A(e)).includes("j")?function(e,t){var r=[];return function(){return r.length=0,Object.assign(r,arguments),function(e,t,r){return e.includes("j")?function(e,t,r){var n=dynCalls[e];return r&&r.length?n.apply(null,[t].concat(r)):n.call(null,t)}(e,t,r):se(t).apply(null,r)}(e,t,r)}}(e,t):se(t);return"function"!=typeof r&&x("unknown function pointer with signature ".concat(e,": ").concat(t)),r}var ce=void 0;function le(e){var t=Re(e),r=A(t);return We(t),r}function fe(e,t){var r=[],n={};throw t.forEach((function e(t){if(!n[t]&&!P[t]){if(S[t])return void S[t].forEach(e);r.push(t),n[t]=!0}})),new ce(e+": "+r.map(le).join([", "]))}function de(e,t){for(var r=[],n=0;n<e;n++)r.push(l[t+4*n>>2]);return r}function pe(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function he(e,t,r,n,a,o){var i=t.length;i<2&&x("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var s=null!==t[1]&&null!==r,u=!1,c=1;c<t.length;++c)if(null!==t[c]&&void 0===t[c].destructorFunction){u=!0;break}var l="void"!==t[0].name,f="",d="";for(c=0;c<i-2;++c)f+=(0!==c?", ":"")+"arg"+c,d+=(0!==c?", ":"")+"arg"+c+"Wired";var p="return function "+O(e)+"("+f+") {\nif (arguments.length !== "+(i-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(i-2)+" args!');\n}\n";u&&(p+="var destructors = [];\n");var h=u?"destructors":"null",v=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],y=[x,n,a,pe,t[0],t[1]];for(s&&(p+="var thisWired = classParam.toWireType("+h+", this);\n"),c=0;c<i-2;++c)p+="var arg"+c+"Wired = argType"+c+".toWireType("+h+", arg"+c+"); // "+t[c+2].name+"\n",v.push("argType"+c),y.push(t[c+2]);if(s&&(d="thisWired"+(d.length>0?", ":"")+d),p+=(l||o?"var rv = ":"")+"invoker(fn"+(d.length>0?", ":"")+d+");\n",u)p+="runDestructors(destructors);\n";else for(c=s?1:2;c<t.length;++c){var g=1===c?"thisWired":"arg"+(c-2)+"Wired";null!==t[c].destructorFunction&&(p+=g+"_dtor("+g+"); // "+t[c].name+"\n",v.push(g+"_dtor"),y.push(t[c].destructorFunction))}return l&&(p+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),p+="}\n",v.push(p),function(e,t){if(!(e instanceof Function))throw new TypeError("new_ called with constructor type ".concat(_typeof(e)," which is not a function"));var r=F(e.name||"unknownFunctionName",(function(){}));r.prototype=e.prototype;var n=new r,a=e.apply(n,t);return a instanceof Object?a:n}(Function,v).apply(null,y)}function ve(e,t,r){return e instanceof Object||x(r+' with invalid "this": '+e),e instanceof t.registeredClass.constructor||x(r+' incompatible with "this" of type '+e.constructor.name),e.$$.ptr||x("cannot call emscripten binding method ".concat(r," on deleted object")),ee(e.$$.ptr,e.$$.ptrType.registeredClass,t.registeredClass)}var ye=new function(){this.allocated=[void 0],this.freelist=[],this.get=function(e){return this.allocated[e]},this.allocate=function(e){var t=this.freelist.pop()||this.allocated.length;return this.allocated[t]=e,t},this.free=function(e){this.allocated[e]=void 0,this.freelist.push(e)}};var ge={toValue:function(e){return e||x("Cannot use deleted val. handle = "+e),ye.get(e).value},toHandle:function(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return ye.allocate({refcount:1,value:e})}}};function me(e){if(null===e)return"null";var t=_typeof(e);return"object"===t||"array"===t||"function"===t?e.toString():""+e}function be(e,t){switch(t){case 2:return function(e){return this.fromWireType(f[e>>2])};case 3:return function(e){return this.fromWireType(d[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Ce(e,t,r){switch(t){case 0:return r?function(e){return o[e]}:function(e){return u[e]};case 1:return r?function(e){return i[e>>1]}:function(e){return c[e>>1]};case 2:return r?function(e){return s[e>>2]}:function(e){return l[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var we,Te=("undefined"==typeof TextDecoder?"undefined":_typeof(TextDecoder))<"u"?new TextDecoder("utf-16le"):void 0;function Ae(e,t){for(var r=e,n=r>>1,a=n+t/2;!(n>=a)&&c[n];)++n;if((r=n<<1)-e>32&&Te)return Te.decode(u.subarray(e,r));for(var o="",s=0;!(s>=t/2);++s){var l=i[e+2*s>>1];if(0==l)break;o+=String.fromCharCode(l)}return o}function $e(e,t,r){if(void 0===r&&(r=2147483647),r<2)return 0;for(var n=t,a=(r-=2)<2*e.length?r/2:e.length,o=0;o<a;++o){var s=e.charCodeAt(o);i[t>>1]=s,t+=2}return i[t>>1]=0,t-n}function Pe(e){return 2*e.length}function Se(e,t){for(var r=0,n="";!(r>=t/4);){var a=s[e+4*r>>2];if(0==a)break;if(++r,a>=65536){var o=a-65536;n+=String.fromCharCode(55296|o>>10,56320|1023&o)}else n+=String.fromCharCode(a)}return n}function je(e,t,r){if(void 0===r&&(r=2147483647),r<4)return 0;for(var n=t,a=n+r-4,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),s[t>>2]=i,(t+=4)+4>a)break}return s[t>>2]=0,t-n}function _e(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n>=55296&&n<=57343&&++r,t+=4}return t}function Oe(e){var t=p.buffer;try{return p.grow(e-t.byteLength+65535>>>16),g(),1}catch(e){}}we=function(){return performance.now()};var Fe={};function ke(){if(!ke.strings){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==("undefined"==typeof navigator?"undefined":_typeof(navigator))&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:"./this.program"};for(var t in Fe)void 0===Fe[t]?delete e[t]:e[t]=Fe[t];var r=[];for(var t in e)r.push(t+"="+e[t]);ke.strings=r}return ke.strings}var Me=[null,[],[]];function xe(e,t){var a=Me[e];0===t||10===t?((1===e?r:n)(b(a,0)),a.length=0):a.push(t)}(function(){for(var e=new Array(256),t=0;t<256;++t)e[t]=String.fromCharCode(t);T=e})(),M=e.BindingError=k(Error,"BindingError"),E=e.InternalError=k(Error,"InternalError"),X.prototype.isAliasOf=function(e){if(!(this instanceof X&&e instanceof X))return!1;for(var t=this.$$.ptrType.registeredClass,r=this.$$.ptr,n=e.$$.ptrType.registeredClass,a=e.$$.ptr;t.baseClass;)r=t.upcast(r),t=t.baseClass;for(;n.baseClass;)a=n.upcast(a),n=n.baseClass;return t===n&&r===a},X.prototype.clone=function(){if(this.$$.ptr||B(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=Y(Object.create(Object.getPrototypeOf(this),{$$:{value:D(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},X.prototype.delete=function(){this.$$.ptr||B(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&x("Object already scheduled for deletion"),L(this),H(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},X.prototype.isDeleted=function(){return!this.$$.ptr},X.prototype.deleteLater=function(){return this.$$.ptr||B(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&x("Object already scheduled for deletion"),z.push(this),1===z.length&&G&&G(J),this.$$.deleteScheduled=!0,this},e.getInheritedInstanceCount=function(){return Object.keys(q).length},e.getLiveInheritedInstances=function(){var e=[];for(var t in q)q.hasOwnProperty(t)&&e.push(q[t]);return e},e.flushPendingDeletes=J,e.setDelayFunction=function(e){G=e,z.length&&G&&G(J)},oe.prototype.getPointee=function(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},oe.prototype.destructor=function(e){this.rawDestructor&&this.rawDestructor(e)},oe.prototype.argPackAdvance=8,oe.prototype.readValueFromPointer=ae,oe.prototype.deleteObject=function(e){null!==e&&e.delete()},oe.prototype.fromWireType=function(e){var t=this.getPointee(e);if(!t)return this.destructor(e),null;var r=function(e,t){return t=function(e,t){for(void 0===t&&x("ptr should not be undefined");e.baseClass;)t=e.upcast(t),e=e.baseClass;return t}(e,t),q[t]}(this.registeredClass,t);if(void 0!==r){if(0===r.$$.count.value)return r.$$.ptr=t,r.$$.smartPtr=e,r.clone();var n=r.clone();return this.destructor(e),n}function a(){return this.isSmartPointer?K(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:t,smartPtrType:this,smartPtr:e}):K(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var o,i=this.registeredClass.getActualType(t),s=N[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var u=V(t,this.registeredClass,o.registeredClass);return null===u?a.call(this):this.isSmartPointer?K(o.registeredClass.instancePrototype,{ptrType:o,ptr:u,smartPtrType:this,smartPtr:e}):K(o.registeredClass.instancePrototype,{ptrType:o,ptr:u})},ce=e.UnboundTypeError=k(Error,"UnboundTypeError"),ye.allocated.push({value:void 0},{value:null},{value:!0},{value:!1}),ye.reserved=ye.allocated.length,e.count_emval_handles=function(){for(var e=0,t=ye.reserved;t<ye.allocated.length;++t)void 0!==ye.allocated[t]&&++e;return e};var Ee={b:function(e,t,r,n){y("Assertion failed: ".concat(C(e),", at: ")+[t?C(t):"unknown filename",r,n?C(n):"unknown function"])},k:function(e,t,r){return 0},I:function(e,t){},B:function(e,t,r){},K:function(e,t,r){return 0},G:function(e,t,r,n){},n:function(e,t,r,n){},H:function(e,t){},u:function(e,t,r,n,a){},r:function(e,t,r,n,a){var u=w(r);R(e,{name:t=A(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?n:a},argPackAdvance:8,readValueFromPointer:function(e){var n;if(1===r)n=o;else if(2===r)n=i;else{if(4!==r)throw new TypeError("Unknown boolean type size: "+t);n=s}return this.fromWireType(n[e>>u])},destructorFunction:null})},j:function(t,r,n,a,o,i,s,u,c,l,f,d,p){f=A(f),i=ue(o,i),u&&(u=ue(s,u)),l&&(l=ue(c,l)),p=ue(d,p);var h=O(f);(function(t,r,n){e.hasOwnProperty(t)?(x("Cannot register public name '".concat(t,"' twice")),Z(e,t,t),e.hasOwnProperty(n)&&x("Cannot register multiple overloads of a function with the same number of arguments (".concat(n,")!")),e[t].overloadTable[n]=r):e[t]=r})(h,(function(){fe("Cannot construct ".concat(f," due to unbound types"),[a])})),W([t,r,n],a?[a]:[],(function(r){var n,o;r=r[0],o=a?(n=r.registeredClass).instancePrototype:X.prototype;var s=F(h,(function(){if(Object.getPrototypeOf(this)!==c)throw new M("Use 'new' to construct "+f);if(void 0===d.constructor_body)throw new M(f+" has no accessible constructor");var e=d.constructor_body[arguments.length];if(void 0===e)throw new M("Tried to invoke ctor of ".concat(f," with invalid number of parameters (").concat(arguments.length,") - expected (").concat(Object.keys(d.constructor_body).toString(),") parameters instead!"));return e.apply(this,arguments)})),c=Object.create(o,{constructor:{value:s}});s.prototype=c;var d=new Q(f,s,c,p,n,i,u,l);d.baseClass&&(void 0===d.baseClass.__derivedClasses&&(d.baseClass.__derivedClasses=[]),d.baseClass.__derivedClasses.push(d));var v=new oe(f,d,!0,!1,!1),y=new oe(f+"*",d,!1,!1,!1),g=new oe(f+" const*",d,!1,!0,!1);return N[t]={pointerType:y,constPointerType:g},function(t,r,n){e.hasOwnProperty(t)||I("Replacing nonexistant public symbol"),e[t].overloadTable,e[t]=r,e[t].argCount=n}(h,s),[v,y,g]}))},A:function(e,t,r,n,a,o){!function(e,t){if(!e)throw void 0}(t>0);var i=de(t,r);a=ue(n,a),W([],[e],(function(e){var r="constructor "+(e=e[0]).name;if(void 0===e.registeredClass.constructor_body&&(e.registeredClass.constructor_body=[]),void 0!==e.registeredClass.constructor_body[t-1])throw new M("Cannot register multiple constructors with identical number of parameters (".concat(t-1,") for class '").concat(e.name,"'! Overload resolution is currently only performed using the parameter count, not actual type info!"));return e.registeredClass.constructor_body[t-1]=function(){fe("Cannot construct ".concat(e.name," due to unbound types"),i)},W([],i,(function(n){return n.splice(1,0,null),e.registeredClass.constructor_body[t-1]=he(r,n,null,a,o),[]})),[]}))},d:function(e,t,r,n,a,o,i,s,u){var c=de(r,n);t=A(t),o=ue(a,o),W([],[e],(function(e){var n=(e=e[0]).name+"."+t;function a(){fe("Cannot call ".concat(n," due to unbound types"),c)}t.startsWith("@@")&&(t=Symbol[t.substring(2)]),s&&e.registeredClass.pureVirtualFunctions.push(t);var l=e.registeredClass.instancePrototype,f=l[t];return void 0===f||void 0===f.overloadTable&&f.className!==e.name&&f.argCount===r-2?(a.argCount=r-2,a.className=e.name,l[t]=a):(Z(l,t,n),l[t].overloadTable[r-2]=a),W([],c,(function(a){var s=he(n,a,e,o,i,u);return void 0===l[t].overloadTable?(s.argCount=r-2,l[t]=s):l[t].overloadTable[r-2]=s,[]})),[]}))},c:function(e,t,r,n,a,o,i,s,u,c){t=A(t),a=ue(n,a),W([],[e],(function(e){var n=(e=e[0]).name+"."+t,l={get:function(){fe("Cannot access ".concat(n," due to unbound types"),[r,i])},enumerable:!0,configurable:!0};return l.set=u?function(){fe("Cannot access ".concat(n," due to unbound types"),[r,i])}:function(e){x(n+" is a read-only property")},Object.defineProperty(e.registeredClass.instancePrototype,t,l),W([],u?[r,i]:[r],(function(r){var i=r[0],l={get:function(){var t=ve(this,e,n+" getter");return i.fromWireType(a(o,t))},enumerable:!0};if(u){u=ue(s,u);var f=r[1];l.set=function(t){var r=ve(this,e,n+" setter"),a=[];u(c,r,f.toWireType(a,t)),pe(a)}}return Object.defineProperty(e.registeredClass.instancePrototype,t,l),[]})),[]}))},L:function(e,t){R(e,{name:t=A(t),fromWireType:function(e){var t=ge.toValue(e);return function(e){e>=ye.reserved&&0==--ye.get(e).refcount&&ye.free(e)}(e),t},toWireType:function(e,t){return ge.toHandle(t)},argPackAdvance:8,readValueFromPointer:ae,destructorFunction:null})},p:function(e,t,r){var n=w(r);R(e,{name:t=A(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:be(t,n),destructorFunction:null})},g:function(e,t,r,n,a){t=A(t);var o=w(r),i=function(e){return e};if(0===n){var s=32-8*r;i=function(e){return e<<s>>>s}}var u=t.includes("unsigned");R(e,{name:t,fromWireType:i,toWireType:u?function(e,t){return this.name,t>>>0}:function(e,t){return this.name,t},argPackAdvance:8,readValueFromPointer:Ce(t,o,0!==n),destructorFunction:null})},e:function(e,t,r){var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];function a(e){var t=l,r=t[e>>=2],a=t[e+1];return new n(t.buffer,a,r)}R(e,{name:r=A(r),fromWireType:a,argPackAdvance:8,readValueFromPointer:a},{ignoreDuplicateRegistrations:!0})},q:function(e,t){var r="std::string"===(t=A(t));R(e,{name:t,fromWireType:function(e){var t,n=l[e>>2],a=e+4;if(r)for(var o=a,i=0;i<=n;++i){var s=a+i;if(i==n||0==u[s]){var c=C(o,s-o);void 0===t?t=c:(t+=String.fromCharCode(0),t+=c),o=s+1}}else{var f=new Array(n);for(i=0;i<n;++i)f[i]=String.fromCharCode(u[a+i]);t=f.join("")}return We(e),t},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var n,a="string"==typeof t;a||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||x("Cannot pass non-string to std::string"),n=r&&a?function(e){for(var t=0,r=0;r<e.length;++r){var n=e.charCodeAt(r);n<=127?t++:n<=2047?t+=2:n>=55296&&n<=57343?(t+=4,++r):t+=3}return t}(t):t.length;var o=Ie(4+n+1),i=o+4;if(l[o>>2]=n,r&&a)!function(e,t,r){!function(e,t,r,n){if(!(n>0))return 0;for(var a=r+n-1,o=0;o<e.length;++o){var i=e.charCodeAt(o);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),i<=127){if(r>=a)break;t[r++]=i}else if(i<=2047){if(r+1>=a)break;t[r++]=192|i>>6,t[r++]=128|63&i}else if(i<=65535){if(r+2>=a)break;t[r++]=224|i>>12,t[r++]=128|i>>6&63,t[r++]=128|63&i}else{if(r+3>=a)break;t[r++]=240|i>>18,t[r++]=128|i>>12&63,t[r++]=128|i>>6&63,t[r++]=128|63&i}}t[r]=0}(e,u,t,r)}(t,i,n+1);else if(a)for(var s=0;s<n;++s){var c=t.charCodeAt(s);c>255&&(We(i),x("String has UTF-16 code units that do not fit in 8 bits")),u[i+s]=c}else for(s=0;s<n;++s)u[i+s]=t[s];return null!==e&&e.push(We,o),o},argPackAdvance:8,readValueFromPointer:ae,destructorFunction:function(e){We(e)}})},l:function(e,t,r){var n,a,o,i,s;r=A(r),2===t?(n=Ae,a=$e,i=Pe,o=function(){return c},s=1):4===t&&(n=Se,a=je,i=_e,o=function(){return l},s=2),R(e,{name:r,fromWireType:function(e){for(var r,a=l[e>>2],i=o(),u=e+4,c=0;c<=a;++c){var f=e+4+c*t;if(c==a||0==i[f>>s]){var d=n(u,f-u);void 0===r?r=d:(r+=String.fromCharCode(0),r+=d),u=f+t}}return We(e),r},toWireType:function(e,n){"string"!=typeof n&&x("Cannot pass non-string to C++ string type "+r);var o=i(n),u=Ie(4+o+t);return l[u>>2]=o>>s,a(n,u+4,o+t),null!==e&&e.push(We,u),u},argPackAdvance:8,readValueFromPointer:ae,destructorFunction:function(e){We(e)}})},s:function(e,t){R(e,{isVoid:!0,name:t=A(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(e,t){}})},y:function(){throw 1/0},C:function(e,t,r,n,a,o,i){return-52},D:function(e,t,r,n,a,o){},f:function(){y("")},m:we,z:function(e){var t,r=u.length,n=2147483648;if((e>>>=0)>n)return!1;for(var a=1;a<=4;a*=2){var o=r*(1+.2/a);if(o=Math.min(o,e+100663296),Oe(Math.min(n,(t=Math.max(e,o))+(65536-t%65536)%65536)))return!0}return!1},E:function(e,t){var r=0;return ke().forEach((function(n,a){var i=t+r;l[e+4*a>>2]=i,function(e,t){for(var r=0;r<e.length;++r)o[t++>>0]=e.charCodeAt(r);o[t>>0]=0}(n,i),r+=n.length+1})),0},F:function(e,t){var r=ke();l[e>>2]=r.length;var n=0;return r.forEach((function(e){n+=e.length+1})),l[t>>2]=n,0},h:function(e){throw"exit("+e+")"},i:function(e){return 52},o:function(e,t,r,n){return 52},t:function(e,t,r,n,a){return 70},J:function(e,t,r,n){for(var a=0,o=0;o<r;o++){var i=l[t>>2],s=l[t+4>>2];t+=8;for(var c=0;c<s;c++)xe(e,u[i+c]);a+=s}return l[n>>2]=a,0},x:function(e,t,r){var n=Le();try{return se(e)(t,r)}catch(e){if(He(n),e!==e+0)throw e;De(1,0)}},v:function(e,t,r,n){var a=Le();try{return se(e)(t,r,n)}catch(e){if(He(a),e!==e+0)throw e;De(1,0)}},w:function(e,t,r,n,a){var o=Le();try{return se(e)(t,r,n,a)}catch(e){if(He(o),e!==e+0)throw e;De(1,0)}},a:p};e.getTempRet0=Ue,e.setTempRet0=Be;var Ie,We,Re,De,Be,Ue,Le,He,Ve={a:Ee};return(WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(fetch("jassub-worker-modern.wasm"),Ve):WebAssembly.instantiate(e.wasm,Ve)).then((function(r){v=(r.instance||r).exports,e._malloc=Ie=v.N,We=v.O,Re=v.P,e.__embind_initialize_bindings=v.Q,De=v.S,Be=v.T,Ue=v.U,Le=v.V,He=v.W,v.X,v.Y,v.Z,v._,h=v.R,function(e){e.M()}(v),t(e)})),e.ready}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},read_=function(e,t){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType=t?"arraybuffer":"text",r.send(null),r.response},readAsync=function(e,t,r){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=function(){if((200===n.status||0===n.status)&&n.response)return t(n.response)},n.onerror=r,n.send(null)};if(Date.now||(Date.now=function(){return(new Date).getTime()}),"performance"in self||(self.performance={now:function(){return Date.now()}}),("undefined"==typeof console?"undefined":_typeof(console))>"u"){var o=function(e,t){postMessage({target:"console",command:e,content:JSON.stringify(Array.prototype.slice.call(t))})};console={log:function(){o("log",arguments)},debug:function(){o("debug",arguments)},info:function(){o("info",arguments)},warn:function(){o("warn",arguments)},error:function(){o("error",arguments)}},console.log("Detected lack of console, overridden console")}var lastCurrentTime=0,rate=1,rafId=null,nextIsRaf=!1,lastCurrentTimeReceivedAt=Date.now(),targetFps=24,useLocalFonts=!1,blendMode="js",availableFonts={},fontMap_={},fontId=0,debug;self.width=0,self.height=0;var asyncRender=!1;self.addFont=function(e){var t=e.font;return asyncWrite(t)};var findAvailableFonts=function(e){(e=e.trim().toLowerCase()).startsWith("@")&&(e=e.substring(1)),!fontMap_[e]&&(fontMap_[e]=!0,availableFonts[e]?asyncWrite(availableFonts[e]):useLocalFonts&&postMessage({target:"getLocalFont",font:e}))},asyncWrite=function(e){"string"==typeof e?readAsync(e,(function(e){allocFont(new Uint8Array(e))}),console.error):allocFont(e)},allocFont=function(e){var t=_malloc(e.byteLength);self.HEAPU8.set(e,t),jassubObj.addFont("font-"+fontId++,t,e.byteLength),jassubObj.reloadFonts()},processAvailableFonts=function(e){if(availableFonts){for(var t=parseAss(e),r=0;r<t.length;r++)for(var n=0;n<t[r].body.length;n++)"Style"===t[r].body[n].key&&findAvailableFonts(t[r].body[n].value.Fontname);for(var a,o=/\\fn([^\\}]*?)[\\}]/g;null!==(a=o.exec(e));)findAvailableFonts(a[1])}};self.setTrack=function(e){var t=e.content;processAvailableFonts(t),dropAllBlur&&(t=dropBlur(t)),jassubObj.createTrackMem(t),subtitleColorSpace=libassYCbCrMap[jassubObj.trackColorSpace],postMessage({target:"verifyColorSpace",subtitleColorSpace:subtitleColorSpace})},self.getColorSpace=function(){return postMessage({target:"verifyColorSpace",subtitleColorSpace:subtitleColorSpace})},self.freeTrack=function(){jassubObj.removeTrack()},self.setTrackByUrl=function(e){var t=e.url;self.setTrack({content:read_(t)})};var getCurrentTime=function(){var e=(Date.now()-lastCurrentTimeReceivedAt)/1e3;return _isPaused?lastCurrentTime:(e>5&&(console.error("Didn't received currentTime > 5 seconds. Assuming video was paused."),setIsPaused(!0)),lastCurrentTime+e*rate)},setCurrentTime=function(e){lastCurrentTime=e,lastCurrentTimeReceivedAt=Date.now(),rafId||(nextIsRaf?rafId=requestAnimationFrame(renderLoop):(renderLoop(),setTimeout((function(){nextIsRaf=!1}),20)))},_isPaused=!0,setIsPaused=function(e){e!==_isPaused&&(_isPaused=e,e?rafId&&(clearTimeout(rafId),rafId=null):(lastCurrentTimeReceivedAt=Date.now(),rafId=requestAnimationFrame(renderLoop)))},a="BT601",b="BT709",c="SMPTE240M",d="FCC",libassYCbCrMap=[null,a,null,a,a,b,b,c,c,d,d],render=function(e,t){var r={},n=performance.now(),a="wasm"===blendMode?jassubObj.renderBlend(e,t||0):jassubObj.renderImage(e,t||0);if(debug){var o=performance.now(),i=jassubObj.time;r.WASMRenderTime=i-n,r.WASMBitmapDecodeTime=o-i,r.JSRenderTime=Date.now()}if(0!==jassubObj.changed||t){var s=[],u=[];if(!a)return paintImages({images:s,buffers:u,times:r});if(asyncRender){for(var c=[],l=a,f=0;f<jassubObj.count;l=l.next,++f){var d={w:l.w,h:l.h,x:l.x,y:l.y},p=l.image,h=hasBitmapBug?self.HEAPU8C.slice(p,p+d.w*d.h*4):self.HEAPU8C.subarray(p,p+d.w*d.h*4);c.push(createImageBitmap(new ImageData(h,d.w,d.h))),s.push(d)}Promise.all(c).then((function(e){for(var t=0;t<s.length;t++)s[t].image=e[t];debug&&(r.JSBitmapGenerationTime=Date.now()-r.JSRenderTime),paintImages({images:s,buffers:e,times:r})}))}else{for(var v=a,y=0;y<jassubObj.count;v=v.next,++y){var g={w:v.w,h:v.h,x:v.x,y:v.y,image:v.image};if(!offCanvasCtx){var m=self.wasmMemory.buffer.slice(v.image,v.image+v.w*v.h*4);u.push(m),g.image=m}s.push(g)}paintImages({images:s,buffers:u,times:r})}}else postMessage({target:"unbusy"})};self.demand=function(e){var t=e.time;lastCurrentTime=t,render(t)};var renderLoop=function e(t){rafId=0,render(getCurrentTime(),t),_isPaused||(rafId=requestAnimationFrame(e))},paintImages=function(e){var t=e.times,r=e.images,n=e.buffers,a={target:"render",asyncRender:asyncRender,images:r,times:t,width:self.width,height:self.height,colorSpace:subtitleColorSpace};if(offscreenRender){(offCanvas.height!==self.height||offCanvas.width!==self.width)&&(offCanvas.width=self.width,offCanvas.height=self.height),offCanvasCtx.clearRect(0,0,self.width,self.height);var o,i=_createForOfIteratorHelper(r);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.image&&(asyncRender?(offCanvasCtx.drawImage(s.image,s.x,s.y),s.image.close()):(bufferCanvas.width=s.w,bufferCanvas.height=s.h,bufferCtx.putImageData(new ImageData(self.HEAPU8C.subarray(s.image,s.image+s.w*s.h*4),s.w,s.h),0,0),offCanvasCtx.drawImage(bufferCanvas,s.x,s.y)))}}catch(e){i.e(e)}finally{i.f()}if("hybrid"===offscreenRender){if(!r.length)return postMessage(a);debug&&(t.bitmaps=r.length);try{var u=offCanvas.transferToImageBitmap();a.images=[{image:u,x:0,y:0}],a.asyncRender=!0,postMessage(a,[u])}catch(e){postMessage({target:"unbusy"})}}else{if(debug){t.JSRenderTime=Date.now()-t.JSRenderTime-(t.JSBitmapGenerationTime||0);var c=0;for(var l in t)c+=t[l];console.log("Bitmaps: "+r.length+" Total: "+(0|c)+"ms",t)}postMessage({target:"unbusy"})}}else postMessage(a,n)},parseAss=function(e){var t,r,n,a,o,i,s,u,c,l,f=[],d=e.split(/[\r\n]+/g);for(u=0;u<d.length;u++)if(t=d[u].match(/^\[(.*)\]$/))r=null,f.push({name:t[1],body:[]});else{if(/^\s*$/.test(d[u])||0===f.length)continue;if(l=f[f.length-1].body,";"===d[u][0])l.push({type:"comment",value:d[u].substring(1)});else{if(o=(a=d[u].split(":"))[0],i=a.slice(1).join(":").trim(),(r||"Format"===o)&&(i=i.split(","),r&&i.length>r.length&&(n=i.slice(r.length-1).join(","),(i=i.slice(0,r.length-1)).push(n)),i=i.map((function(e){return e.trim()})),r)){for(s={},c=0;c<i.length;c++)s[r[c]]=i[c];i=s}"Format"===o&&(r=i),l.push({key:o,value:i})}}return f},blurRegex=/\\blur(?:[0-9]+\.)?[0-9]+/gm,dropBlur=function(e){return e.replace(blurRegex,"")},requestAnimationFrame=function(){var e=0;return function(t){var r=Date.now();if(0===e)e=r+1e3/targetFps;else for(;r+2>=e;)e+=1e3/targetFps;var n=Math.max(e-r,0);return setTimeout(t,n)}}(),_applyKeys=function(e,t){for(var r=0,n=Object.keys(e);r<n.length;r++){var a=n[r];t[a]=e[a]}},offCanvas,offCanvasCtx,offscreenRender,bufferCanvas,bufferCtx,jassubObj,subtitleColorSpace,dropAllBlur,_malloc,hasBitmapBug;return self.init=function(data){hasBitmapBug=data.hasBitmapBug;try{var _o=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(!(_o instanceof WebAssembly.Module&&new WebAssembly.Instance(_o)instanceof WebAssembly.Instance))throw new Error("WASM not supported")}catch(e){console.warn(e),eval(read_(data.legacyWasmUrl))}var _fetch=fetch,wasm=!WebAssembly.instantiateStreaming&&read_(data.wasmUrl,!0);WebAssembly.instantiateStreaming&&(self.fetch=function(e){return _fetch(data.wasmUrl)}),Module({wasm:wasm}).then((function(e){_malloc=e._malloc,self.width=data.width,self.height=data.height,blendMode=data.blendMode,(asyncRender=data.asyncRender)&&("undefined"==typeof createImageBitmap?"undefined":_typeof(createImageBitmap))>"u"&&(asyncRender=!1,console.error("'createImageBitmap' needed for 'asyncRender' unsupported!")),availableFonts=data.availableFonts,debug=data.debug,targetFps=data.targetFps||targetFps,useLocalFonts=data.useLocalFonts,dropAllBlur=data.dropAllBlur;var t=data.fallbackFont.toLowerCase();jassubObj=new e.JASSUB(self.width,self.height,t||null,debug),t&&findAvailableFonts(t);var r=data.subContent;r||(r=read_(data.subUrl)),processAvailableFonts(r),dropAllBlur&&(r=dropBlur(r));var n,a=_createForOfIteratorHelper(data.fonts||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;asyncWrite(o)}}catch(e){a.e(e)}finally{a.f()}jassubObj.createTrackMem(r),subtitleColorSpace=libassYCbCrMap[jassubObj.trackColorSpace],jassubObj.setDropAnimations(data.dropAllAnimations||0),(data.libassMemoryLimit>0||data.libassGlyphLimit>0)&&jassubObj.setMemoryLimits(data.libassGlyphLimit||0,data.libassMemoryLimit||0),postMessage({target:"ready"}),postMessage({target:"verifyColorSpace",subtitleColorSpace:subtitleColorSpace})}))},self.offscreenCanvas=function(e){var t=e.transferable;offCanvas=t[0],offCanvasCtx=offCanvas.getContext("2d"),asyncRender||(bufferCanvas=new OffscreenCanvas(self.height,self.width),bufferCtx=bufferCanvas.getContext("2d",{desynchronized:!0})),offscreenRender=!0},self.detachOffscreen=function(){offCanvas=new OffscreenCanvas(self.height,self.width),offCanvasCtx=offCanvas.getContext("2d",{desynchronized:!0}),offscreenRender="hybrid"},self.canvas=function(e){var t=e.width,r=e.height,n=e.force;if(null==t)throw new Error("Invalid canvas size specified");self.width=t,self.height=r,jassubObj&&jassubObj.resizeCanvas(t,r),n&&render(lastCurrentTime,!0)},self.video=function(e){var t=e.currentTime,r=e.isPaused,n=e.rate;null!=t&&setCurrentTime(t),null!=r&&setIsPaused(r),n=n||n},self.destroy=function(){jassubObj.quitLibrary()},self.createEvent=function(e){var t=e.event;_applyKeys(t,jassubObj.getEvent(jassubObj.allocEvent()))},self.getEvents=function(){for(var e=[],t=0;t<jassubObj.getEventCount();t++){var r=jassubObj.getEvent(t),n=r.Start,a=r.Duration,o=r.ReadOrder,i=r.Layer,s=r.Style,u=r.MarginL,c=r.MarginR,l=r.MarginV,f=r.Name,d=r.Text,p=r.Effect;e.push({Start:n,Duration:a,ReadOrder:o,Layer:i,Style:s,MarginL:u,MarginR:c,MarginV:l,Name:f,Text:d,Effect:p})}postMessage({target:"getEvents",events:e})},self.setEvent=function(e){var t=e.event,r=e.index;_applyKeys(t,jassubObj.getEvent(r))},self.removeEvent=function(e){var t=e.index;jassubObj.removeEvent(t)},self.createStyle=function(e){var t=e.style;_applyKeys(t,jassubObj.getStyle(jassubObj.allocStyle()))},self.getStyles=function(){for(var e=[],t=0;t<jassubObj.getStyleCount();t++){var r=jassubObj.getStyle(t),n=r.Name,a=r.FontName,o=r.FontSize,i=r.PrimaryColour,s=r.SecondaryColour,u=r.OutlineColour,c=r.BackColour,l=r.Bold,f=r.Italic,d=r.Underline,p=r.StrikeOut,h=r.ScaleX,v=r.ScaleY,y=r.Spacing,g=r.Angle,m=r.BorderStyle,b=r.Outline,C=r.Shadow,w=r.Alignment,T=r.MarginL,A=r.MarginR,$=r.MarginV,P=r.Encoding,S=r.treat_fontname_as_pattern,j=r.Blur,_=r.Justify;e.push({Name:n,FontName:a,FontSize:o,PrimaryColour:i,SecondaryColour:s,OutlineColour:u,BackColour:c,Bold:l,Italic:f,Underline:d,StrikeOut:p,ScaleX:h,ScaleY:v,Spacing:y,Angle:g,BorderStyle:m,Outline:b,Shadow:C,Alignment:w,MarginL:T,MarginR:A,MarginV:$,Encoding:P,treat_fontname_as_pattern:S,Blur:j,Justify:_})}postMessage({target:"getStyles",time:Date.now(),styles:e})},self.setStyle=function(e){var t=e.style,r=e.index;_applyKeys(t,jassubObj.getStyle(r))},self.removeStyle=function(e){var t=e.index;jassubObj.removeStyle(t)},onmessage=function(e){var t=e.data;if(!self[t.target])throw new Error("Unknown event target "+t.target);self[t.target](t)},__webpack_exports__}()}));